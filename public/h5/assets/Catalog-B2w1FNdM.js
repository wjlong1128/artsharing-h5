import{d as G,r as _,c as n,a,b as s,n as r,f as d,F as u,g as v,H as S,u as P,t as l,_ as W}from"./index-BGceKaD2.js";const j={class:"container"},z={class:"tabs"},D={key:0,class:"gallery"},M={key:0,class:"list"},R=["onClick"],T={class:"t2"},q={key:0,class:"panel"},J={class:"c"},K=["onClick"],O=["onClick"],Q={class:"works"},U=["onClick"],X={class:"num"},Y={class:"name"},Z={key:0,class:"bn"},w={key:1,class:"ed"},tt={key:1,class:"list"},st=["onClick"],et={class:"t2"},nt={key:0,class:"panel"},at={class:"c"},ot=["onClick"],it=["onClick"],lt={class:"works"},ct=["onClick"],rt={class:"num"},dt={class:"name"},ut={key:0,class:"bn"},vt={key:1,class:"ed"},_t={key:2,class:"list"},kt=["onClick"],mt={class:"t2"},ht={key:0,class:"panel"},ft={class:"c"},Ct=["onClick"],pt=["onClick"],yt={class:"works"},gt=["onClick"],$t={class:"num"},bt={class:"name"},Nt={key:0,class:"bn"},St={key:1,class:"ed"},xt={key:1,class:"artist"},Lt={class:"artist-content"},It=["id"],Bt={class:"cells"},Et=["onClick"],Ht={class:"letter-index-vertical"},Vt=["onClick"],At=G({__name:"Catalog",setup(Ft){const m=_("artist"),C=_(!1),p=_(!1),y=_(!1),k=_([]),h=_([{id:6,name:"人教版",ename:"Edition 1",artisticState:!1,artisticNum:""},{id:7,name:"人美版",ename:"Edition 2",artisticState:!1,artisticNum:""}]),f=_([]),$=_([]);async function x(o){const i=await S.post("index/getmenutowlist",{sid:o});k.value=i.data||[]}async function L(o,i){const t=await S.post("index/getworklist",{type:o,mid:i});f.value=t.data||[]}async function V(){const o=await S.get("index/artistlist");$.value=o.data||[]}function b(o){C.value=o===1?!C.value:!1,p.value=o===2?!p.value:!1,y.value=o===3?!y.value:!1,o===1&&x("小学"),o===2&&x("初中")}function I(o){k.value[o],k.value=k.value.map((i,t)=>({...i,arstatus:t===o?!i.arstatus:!1,artisticState:t===o?!i.artisticState:!1})),f.value=[]}function g(o,i,t){k.value[o].artisticNum=i,L(i,t)}function B(o,i,t){h.value[o].artisticNum=i,h.value[o].artisticState=!0,L(i,t)}const E=P();function N(o){E.push(`/work/${o}`)}function A(o){E.push(`/artist/${o}`)}V();function F(o){const i=document.getElementById(`artist-group-${o}`);i&&i.scrollIntoView({behavior:"smooth"})}return(o,i)=>(a(),n("div",j,[s("div",z,[s("button",{class:r({on:m.value==="gallery"}),onClick:i[0]||(i[0]=t=>m.value="gallery")},"教材图库",2),s("button",{class:r({on:m.value==="artist"}),onClick:i[1]||(i[1]=t=>m.value="artist")},"艺术家",2)]),m.value==="gallery"?(a(),n("div",D,[s("button",{class:r(["school",{on:C.value}]),onClick:i[2]||(i[2]=t=>b(1))},"小 学",2),s("button",{class:r(["school",{on:p.value}]),onClick:i[3]||(i[3]=t=>b(2))},"初 中",2),s("button",{class:r(["school",{on:y.value}]),onClick:i[4]||(i[4]=t=>b(3))},"高 中",2),C.value?(a(),n("div",M,[(a(!0),n(u,null,v(k.value,(t,c)=>(a(),n("div",{class:"age",key:t.id},[s("div",{class:r(["grade",{on:t.artisticState}]),onClick:e=>I(c)},[s("div",null,l(t.name),1),s("div",T,l(t.ename),1)],10,R),t.arstatus?(a(),n("div",q,[s("div",J,[s("div",{class:r(["btn",{mark:t.artisticNum==="china"}]),onClick:e=>g(c,"china",t.id)},"中国艺术",10,K),s("div",{class:r(["btn",{mark:t.artisticNum==="foreign"}]),onClick:e=>g(c,"foreign",t.id)},"外国艺术",10,O)]),s("div",Q,[(a(!0),n(u,null,v(f.value,e=>(a(),n("div",{class:"book",key:e.id,onClick:H=>N(e.id)},[s("span",X,l(e.code),1),s("span",Y,l(e.aname),1),e.name?(a(),n("span",Z,"《"+l(e.name)+"》",1)):d("",!0),e.edition?(a(),n("span",w,"（"+l(e.edition)+"）",1)):d("",!0)],8,U))),128))])])):d("",!0)]))),128))])):d("",!0),p.value?(a(),n("div",tt,[(a(!0),n(u,null,v(k.value,(t,c)=>(a(),n("div",{class:"age",key:t.id},[s("div",{class:r(["grade",{on:t.artisticState}]),onClick:e=>I(c)},[s("div",null,l(t.name),1),s("div",et,l(t.ename),1)],10,st),t.arstatus?(a(),n("div",nt,[s("div",at,[s("div",{class:r(["btn",{mark:t.artisticNum==="china"}]),onClick:e=>g(c,"china",t.id)},"中国艺术",10,ot),s("div",{class:r(["btn",{mark:t.artisticNum==="foreign"}]),onClick:e=>g(c,"foreign",t.id)},"外国艺术",10,it)]),s("div",lt,[(a(!0),n(u,null,v(f.value,e=>(a(),n("div",{class:"book",key:e.id,onClick:H=>N(e.id)},[s("span",rt,l(e.code),1),s("span",dt,l(e.aname),1),e.name?(a(),n("span",ut,"《"+l(e.name)+"》",1)):d("",!0),e.edition?(a(),n("span",vt,"（"+l(e.edition)+"）",1)):d("",!0)],8,ct))),128))])])):d("",!0)]))),128))])):d("",!0),y.value?(a(),n("div",_t,[(a(!0),n(u,null,v(h.value,(t,c)=>(a(),n("div",{class:"age",key:t.id},[s("div",{class:r(["grade",{on:t.artisticState}]),onClick:e=>h.value[c].artisticState=!h.value[c].artisticState},[s("div",null,l(t.name),1),s("div",mt,l(t.ename),1)],10,kt),t.artisticState?(a(),n("div",ht,[s("div",ft,[s("div",{class:r(["btn",{mark:t.artisticNum==="china"}]),onClick:e=>B(c,"china",t.id)},"中国艺术",10,Ct),s("div",{class:r(["btn",{mark:t.artisticNum==="foreign"}]),onClick:e=>B(c,"foreign",t.id)},"外国艺术",10,pt)]),s("div",yt,[(a(!0),n(u,null,v(f.value,e=>(a(),n("div",{class:"book",key:e.id,onClick:H=>N(e.id)},[s("span",$t,l(e.code),1),s("span",bt,l(e.aname),1),e.name?(a(),n("span",Nt,"《"+l(e.name)+"》",1)):d("",!0),e.edition?(a(),n("span",St,"（"+l(e.edition)+"）",1)):d("",!0)],8,gt))),128))])])):d("",!0)]))),128))])):d("",!0)])):(a(),n("div",xt,[s("div",Lt,[(a(!0),n(u,null,v($.value,t=>(a(),n("div",{class:"group",key:t.letter,id:`artist-group-${t.letter}`},[s("h3",null,l(t.letter),1),s("div",Bt,[(a(!0),n(u,null,v(t.data,c=>(a(),n("div",{class:"cell",key:c.id,onClick:e=>A(c.id)},[s("div",null,l(c.cname),1),s("div",null,l(c.ename),1)],8,Et))),128))])],8,It))),128))]),s("div",Ht,[(a(!0),n(u,null,v($.value,t=>(a(),n("span",{key:`index-${t.letter}`,onClick:c=>F(t.letter),class:"letter"},l(t.letter),9,Vt))),128))])]))]))}}),Pt=W(At,[["__scopeId","data-v-e9ee68f1"]]);export{Pt as default};
