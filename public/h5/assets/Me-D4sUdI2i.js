import{d as k,r as v,o as C,c as a,a as r,b as t,f as d,m as o,h as I,t as c,n as b,H as m,_ as y}from"./index-CIuTTTRl.js";import{u as $}from"./user-4u1sPiMb.js";const x={class:"container"},U=["src"],B={class:"name"},M={class:"t1"},N={key:0},S={key:0,class:"t2"},V={class:"menu"},w={key:0,class:"auth"},H=k({__name:"Me",setup(h){const n=$(),l=v(!1),p=v(null);async function _(){const e=await m.get("user/getuserinfo");n.setUserInfo(e.data),l.value=e.data?.ischeck===1}async function g(){const e=await m.get("user/getpostinfo");p.value=e.data}function u(e){location.href=e}function f(e){location.href=`/authentication?type=${e}`}return C(()=>{n.loadUserInfoFromCache(),_(),g()}),(e,s)=>(r(),a("div",x,[t("div",{class:b(["profile",{cert:l.value}])},[t("img",{class:"avatar",src:o(n).userInfo.avatar,alt:""},null,8,U),t("div",B,[t("div",M,[I(c(o(n).userInfo.nickname)+" ",1),o(n).userInfo.standing?(r(),a("span",N,c(o(n).userInfo.standing),1)):d("",!0)]),o(n).userInfo.number?(r(),a("div",S,"认证编号："+c(o(n).userInfo.number),1)):d("",!0)])],2),t("div",V,[t("div",{class:"item",onClick:s[0]||(s[0]=i=>u("/collection"))},"我的收藏"),t("div",{class:"item",onClick:s[1]||(s[1]=i=>u("/permissions"))},"用户权限"),t("div",{class:"item",onClick:s[2]||(s[2]=i=>u("/about"))},"关于我们")]),l.value?d("",!0):(r(),a("div",w,[t("div",{class:"item",onClick:s[3]||(s[3]=i=>f(1))},[...s[5]||(s[5]=[t("div",null,"我是老师",-1),t("div",null,"我要认证",-1)])]),s[7]||(s[7]=t("div",{class:"line"},null,-1)),t("div",{class:"item",onClick:s[4]||(s[4]=i=>f(2))},[...s[6]||(s[6]=[t("div",null,"我是学生",-1),t("div",null,"我要认证",-1)])])]))]))}}),D=y(H,[["__scopeId","data-v-bbe3fb80"]]);export{D as default};
