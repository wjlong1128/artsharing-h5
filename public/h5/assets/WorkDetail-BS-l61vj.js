import{d as y,p as K,r,o as f,c as i,a,b as n,t,j as I,i as R,f as Q,h as u,n as g,F as H,g as M,H as k,u as j,_ as p}from"./index-BGceKaD2.js";import{S as U}from"./ShareModal-D5CxyYzK.js";const Y={class:"container"},L={class:"head"},T={class:"title"},z={class:"sub"},w={class:"media"},D={class:"meta"},F={class:"section"},P=["innerHTML"],Z={key:1,class:"content"},G={class:"subtabs"},q=["innerHTML"],x=["innerHTML"],X=["innerHTML"],W={key:2,class:"read"},V={class:"footbar"},O=y({__name:"WorkDetail",setup(_){const h=K(),N=Number(h.params.id),e=r({}),s=r("");function d(E){return s.value===E?s.value="":(s.value=E,E==="read"&&c()),!0}const l=r("primary"),B=r([]);async function J(){const E=await k.post("index/workinfo",{id:N});e.value=E.data||{}}async function c(){const E=await k.post("index/rereading",{wid:e.value.id});B.value=E.data||[]}const C=j();function m(){e.value?.artist?.id&&C.push(`/artist/${e.value.artist.id}`)}function S(){e.value?.ininfo?.id&&C.push(`/institution/${e.value.ininfo.id}`)}f(J);const v=r(!1);return(E,A)=>{const b=R("a-image");return a(),i("div",Y,[n("div",L,[n("div",T,t(e.value.name),1),n("div",z,t(e.value.ename),1)]),n("div",w,[I(b,{width:"auto",height:200,src:e.value.image,fallback:"data:image/png;base64,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"},null,8,["src"])]),n("div",D,[n("div",null,[A[8]||(A[8]=n("b",null,"共享编号：",-1)),u(t(e.value.code),1)]),n("div",{class:"link",onClick:m},[A[9]||(A[9]=n("b",null,"艺术家：",-1)),u(t(e.value.artist?.cname)+"["+t(e.value.artist?.ename)+"] ",1)]),n("div",null,[A[10]||(A[10]=n("b",null,"创作时间：",-1)),u(t(e.value.year)+"年",1)]),n("div",null,[A[11]||(A[11]=n("b",null,"材料技法：",-1)),u(t(e.value.techniques),1)]),n("div",null,[A[12]||(A[12]=n("b",null,"尺寸大小：",-1)),u(t(e.value.size)+" CM",1)]),e.value.ininfo?(a(),i("div",{key:0,class:"link",onClick:S},[A[13]||(A[13]=n("b",null,"收藏机构：",-1)),u(t(e.value.ininfo?.name)+"["+t(e.value.ininfo?.ename)+"] ",1)])):Q("",!0)]),n("div",F,[n("button",{class:g(["tabBtn",{on:s.value==="original"}]),onClick:A[0]||(A[0]=o=>d("original"))}," 原作魅力 ",2),n("button",{class:g(["tabBtn",{on:s.value==="appreciation"}]),onClick:A[1]||(A[1]=o=>d("appreciation"))}," 分层赏析 ",2),n("button",{class:g(["tabBtn",{on:s.value==="read"}]),onClick:A[2]||(A[2]=o=>d("read")&&c())}," 推荐阅读 ",2),s.value=="original"?(a(),i("div",{key:0,class:"content",innerHTML:e.value.analysis},null,8,P)):Q("",!0),s.value==="appreciation"?(a(),i("div",Z,[n("div",G,[n("button",{class:g({on:l.value==="primary"}),onClick:A[3]||(A[3]=o=>l.value="primary")}," 识读 ",2),n("button",{class:g({on:l.value==="junior"}),onClick:A[4]||(A[4]=o=>l.value="junior")}," 分析 ",2),n("button",{class:g({on:l.value==="high"}),onClick:A[5]||(A[5]=o=>l.value="high")}," 理解 ",2)]),l.value==="primary"?(a(),i("div",{key:0,innerHTML:e.value.primaryschool,class:"content"},null,8,q)):Q("",!0),l.value==="junior"?(a(),i("div",{key:1,innerHTML:e.value.juniorhschool,class:"content"},null,8,x)):Q("",!0),l.value==="high"?(a(),i("div",{key:2,innerHTML:e.value.highschool,class:"content"},null,8,X)):Q("",!0)])):Q("",!0),s.value==="read"?(a(),i("div",W,[(a(!0),i(H,null,M(B.value,o=>(a(),i("div",{class:"item",key:o.id}," ["+t(o.country)+"]"+t(o.author)+"，《"+t(o.name)+"》 ",1))),128))])):Q("",!0)]),n("div",V,[n("button",{class:"collect share",onClick:A[6]||(A[6]=o=>v.value=!0)},"分享"),I(U,{showShare:v.value,"onUpdate:showShare":A[7]||(A[7]=o=>v.value=o)},null,8,["showShare"])])])}}}),nA=p(O,[["__scopeId","data-v-6e4ff96e"]]);export{nA as default};
